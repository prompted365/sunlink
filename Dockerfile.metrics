# Use a lightweight Python base image
FROM python:3.10-slim

# Set working directory
WORKDIR /app

# Copy the `metrics` subdirectory into the container
COPY metrics /app/metrics

# Install Prometheus client library
RUN pip install prometheus-client

# Expose the Prometheus metrics port
EXPOSE 8000

# Command to run the metrics server
CMD ["python", "/app/metrics/metrics_server.py"]